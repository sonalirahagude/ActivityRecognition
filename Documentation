Modules


1. CRF Module
Location: src/CRF/R

Files: 
crf_train.R 
	- contains logic for reading the training file generated by the preprocessing module and creating a dataframe for each CRF sequence. The final training set is a list of such dataframes.
	- performs the following actions in order: compute G matrices for a training sequence, run gibbs sampling to get most likely sequence, update the feature weights
	- saves the weights in a 3d matrix (labels, labels, feature)

compute_g_matrices.R
	- computes and returns the g matrix for a given CRF sequence

contrasive_divergence.R
	- performs gibbs sampling on the given CRF sequence and returns most likely sequence label

crf_learn.R
	- updates the weights given the original label sequence y and the most likely label sequence yHat



crf_tag.R
	- reads the save weights
	- calculates the most likely sequence using viterbi algorithm
	- writes prediction for each position in an output file

feature_list 
	- list of features to be included in each position in the CRF (This can be a subset of the features in the outputfile from preprocessing unit)


2. PREPROCESSING MODULE
Location: src/preprocessing/R
Files: 

feature_list 
	- list of features to be included for each position (eg, no of pauses, no of u-turns)
	- also "plain_features" value would indicate including all the features mentioned in 'plain_features_list' file

plain_features_list
	- contains all the raw GPS and accelerometer features to be included

feature_functions
	- contains different functions to calculate custom features to be added to the CRF sequence

feature_generator.R 
	- reads the GPS , accelerometer and label data and generates a file where each line is a position in the CRF sequence, each line consists of label followed by various features, and each CRF sequence is enclosed between lines "#START" and "#END".

3. Run scripts

Train & Test
Location: src/CRF/R/test/test.R

Cross validation for all participants
Location: src/CRF/R/test/run_LOO.sh


Feature file generation in preprocessing module
Location: src/preprocessing/R/test/test.R
